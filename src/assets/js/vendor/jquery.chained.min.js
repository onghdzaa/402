!function(l,c){"use strict";l.fn.chained=function(s){return this.each(function(){var o=this,r=l(o).clone();function t(){var t=!0,e=l("option:selected",o).val();l(o).html(r.html());var n,i="";l(s).each(function(){var t=l("option:selected",this).val();t&&(0<i.length&&(c.Zepto?i+="\\\\":i+="\\"),i+=t)}),n=l.isArray(s)?l(s[0]).first():l(s).first();var a=l("option:selected",n).val();l("option",o).each(function(){l(this).hasClass(i)&&l(this).val()===e?(l(this).prop("selected",!0),t=!1):l(this).hasClass(i)||l(this).hasClass(a)||""===l(this).val()||l(this).remove()}),1===l("option",o).length&&""===l(o).val()?l(o).prop("disabled",!0):l(o).prop("disabled",!1),t&&l(o).trigger("change")}l(s).each(function(){l(this).bind("change",function(){t()}),l("option:selected",this).length||l("option",this).first().attr("selected","selected"),t()})})},l.fn.chainedTo=l.fn.chained,l.fn.chained.defaults={}}(window.jQuery||window.Zepto,window,document),function(c){"use strict";c.fn.remoteChained=function(t){var i=c.extend({},c.fn.remoteChained.defaults,t);return i.loading&&(i.clear=!0),this.each(function(){var l=this,t=!1;function e(t){var e=c(":selected",l).val();c("option",l).remove();var n=[];if(c.isArray(t))n=c.isArray(t[0])?t:c.map(t,function(t){return c.map(t,function(t,e){return[[e,t]]})});else for(var i in t)t.hasOwnProperty(i)&&n.push([i,t[i]]);for(var a=0;a!==n.length;a++){var o=n[a][0],r=n[a][1];if("selected"!==o){var s=c("<option />").val(o).append(r);c(l).append(s)}else e=r}c(l).children().each(function(){c(this).val()===e+""&&c(this).attr("selected","selected")}),1===c("option",l).length()&&""===c(l).val()?c(l).prop("disabled",!0):c(l).prop("disabled",!1)}c(i.parents).each(function(){c(this).bind("change",function(){var n={};c(i.parents).each(function(){var t=c(this).attr(i.attribute),e=(c(this).is("select")?c(":selected",this):c(this)).val();n[t]=e,i.depends&&c(i.depends).each(function(){if(l!==this){var t=c(this).attr(i.attribute),e=c(this).val();n[t]=e}})}),t&&c.isFunction(t.abort)&&(t.abort(),t=!1),i.clear&&(i.loading?e.call(l,{"":i.loading}):c("option",l).remove(),c(l).trigger("change"),c(l).trigger("chained:load")),t=c.getJSON(i.url,n,function(t){e.call(l,t),c(l).trigger("change")})}),i.bootstrap&&(e.call(l,i.bootstrap),i.bootstrap=null)})})},c.fn.remoteChainedTo=c.fn.remoteChained,c.fn.remoteChained.defaults={attribute:"name",depends:null,bootstrap:null,loading:null,clear:!1}}(window.jQuery||window.Zepto,(window,document));