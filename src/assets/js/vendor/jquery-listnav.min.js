!function(H){H.fn.listnav=function(e){var p=H.extend({},H.fn.listnav.defaults,e),g=["_","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","-"],w=!1,x="";return x=null!==document.ontouchstart?"click":"touchend click",p.prefixes=H.map(p.prefixes,function(e){return e.toLowerCase()}),this.each(function(){var l,o,d,r,c,u,e=this.id,v=H(this),h={},i=0,f=!0,C="";function m(e,t,l){/\W/.test(e)&&(e="-"),isNaN(e)||(e="_"),t.addClass("ln-"+e),void 0===h[e]&&(h[e]=0),h[e]++,l||i++}function N(e){return H(e).hasClass("all")?p.dontCount?i-v.find(p.dontCount).length:i:(e=".ln-"+H(e).attr("class").split(" ")[0],void 0!==(u=p.dontCount?v.find(e).not(p.dontCount).length:v.find(e).length)?u:0)}H("#"+e+"-nav").length||H('<div id="'+e+'-nav" class="listNav"/>').insertBefore(v),l=H("#"+e+"-nav"),function(){var i,n,s,a;if(l.append(function(){for(var e=[],t=1;t<g.length;t++)0===e.length&&e.push('<a class="all" href="#">'+p.allText+'</a><a class="_" href="#">0-9</a>'),e.push('<a class="'+g[t]+'" href="#">'+("-"===g[t]?"...":g[t].toUpperCase())+"</a>");return'<div class="ln-letters">'+e.join("")+"</div>"+(p.showCounts?'<div class="ln-letter-count listNavHide">0</div>':"")}()),o=H(".ln-letters",l).slice(0,1),p.showCounts&&(d=H(".ln-letter-count",l).slice(0,1)),s=0<p.prefixes.length,a=0<p.filterSelector.length,H(v).children().each(function(){if(n=H(this),""!==(i=a?H.trim(n.find(p.filterSelector).text()).toLowerCase():H.trim(n.text()).toLowerCase())){if(s){var e=H.map(p.prefixes,function(e){return e.indexOf(" ")<=0?e+" ":e}),t=H.grep(e,function(e){return 0===i.indexOf(e)});if(0<t.length){var l=i.toLowerCase().split(t[0])[1];return void m(null!==l?H.trim(l).charAt(0):i.charAt(0),n,!0)}}m(i.charAt(0),n)}}),v.append('<li class="ln-no-match listNavHide">'+p.noMatchText+"</li>"),function(){p.showCounts&&(l.mouseover(function(){var e;e=d.outerHeight(),d.css({top:H("a:first",l).slice(0,1).position().top-e})}),H(".ln-letters a",l).mouseover(function(){r=H(this).position().left,c=H(this).outerWidth()+"px",u=N(this),d.css({left:r,width:c}).text(u).addClass("letterCountShow").removeClass("listNavHide")}).mouseout(function(){d.addClass("listNavHide").removeClass("letterCountShow")}));H("a",o).on(x,function(e){e.preventDefault();var t=H(this),l=t.attr("class").split(" ")[0],i=v.children(".ln-no-match");if(p.initHidden&&v.children(".ln-init-hidden").remove(),C!==l){if(H("a.ln-selected",o).removeClass("ln-selected"),"all"===l)v.children().addClass("listNavShow").removeClass("listNavHide"),i.addClass("listNavHide").removeClass("listNavShow"),f=!0;else f?(v.children().addClass("listNavHide").removeClass("listNavShow"),f=!1):""!==C&&v.children(".ln-"+C).addClass("listNavHide").removeClass("listNavShow"),0<N(this)?(v.children(".ln-"+l).addClass("listNavShow").removeClass("listNavHide"),i.addClass("listNavHide").removeClass("listNavShow")):i.addClass("listNavShow").removeClass("listNavHide");C=l,H.cookie&&null!==p.cookieName&&H.cookie(p.cookieName,l,{expires:999}),t.addClass("ln-selected"),t.blur(),w||null===p.onClick?w=!1:p.onClick(l)}void 0!==p.onAfterFilter&&p.onAfterFilter(l)})}(),p.flagDisabled&&function(){for(var e=0;e<g.length;e++)void 0===h[g[e]]&&H("."+g[e],o).addClass("ln-disabled")}(),p.includeAll||H(".all",o).remove(),p.includeNums||H("._",o).remove(),p.includeOther||H(".-",o).remove(),p.removeDisabled&&H(".ln-disabled",o).remove(),H(":last",o).addClass("ln-last"),H.cookie&&null!==p.cookieName){var e=H.cookie(p.cookieName);null!=e&&(p.initLetter=e)}if(""!==p.initLetter)w=!0,H("."+p.initLetter.toLowerCase(),o).slice(0,1).trigger("click");else if(p.initHidden)v.append('<li class="ln-init-hidden listNavHide">'+p.initHiddenText+"</li>"),v.children().addClass("listNavHide"),v.children(".ln-init-hidden").removeClass("listNavHide");else if(p.includeAll)H(".all",o).addClass("ln-selected");else for(var t=p.includeNums?0:1;t<g.length;t++)if(0<h[g[t]]){w=!0,H("."+g[t],o).slice(0,1).trigger("click");break}}()})},H.fn.listnav.defaults={initHidden:!1,initHiddenText:"Tap a letter above to view matching items",initLetter:"",includeAll:!0,allText:"All",includeOther:!1,includeNums:!0,flagDisabled:!0,removeDisabled:!1,noMatchText:"No matching entries",showCounts:!0,dontCount:"",cookieName:null,onClick:null,prefixes:[],filterSelector:"",onAfterFilter:null}}(jQuery);